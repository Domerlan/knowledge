ТЕХНИЧЕСКОЕ ЗАДАНИЕ (для разработчиков)
Проект: Портал в Three.js (GLSL) + текст NoHack с бегущими молниями по контуру + вылетающие частицы

1) Цель
Сделать 3D-элемент “Портал” для сцены Three.js:
- Сам портал рендерится шейдером (GLSL), без видео.
- Внутри портала располагается текст “NoHack”, который:
  - слегка “плавает” (легкие смещения по X/Y),
  - имеет динамику по горизонтали (энергетическое дрожание/сдвиг),
  - вокруг букв идет “молния, бегущая по контуру”.
  - эффект реализуется двумя слоями текста: Inner (тоньше, быстрее, ярче) и Outer (шире, медленнее, мягче).
- Из портала наружу вылетают частицы (GPU/шейдерные точки).
- Решение должно быть production-ready: структурированный модуль, единый API update()/resize(), без лишних аллокаций в кадре.

2) Технический стек и ограничения
- Three.js (ESM).
- WebGL (без зависимостей от видео/текстур для самого портала).
- Текст: troika-three-text (SDF), т.к. позволяет шейдерные эффекты по контуру с хорошим качеством.
- Цвета задаются HEX.
- Один портал в сцене (не требуется инстансинг/мульти-портал).

3) Визуальные требования
3.1 Портал (ShaderMaterial)
- Волновая жидкая поверхность (синус/шум), легкая закрутка, яркий энергетический край.
- Прозрачность: портал должен быть с альфой (transparent), чтобы можно было композить с окружением.
- Рекомендованные цвета:
  - Core: #4FC3FF
  - Edge: #1E6BFF
  - Glow: #B6EFFF
- Управляемые параметры (uniforms):
  - uRadius (радиус портала)
  - uWaveAmp (амплитуда волны)
  - uWaveFreq (частота волны)
  - uSpeed (скорость анимации)

3.2 Текст NoHack (2 слоя)
- Два слоя текста с одинаковым содержимым:
  - Inner: быстрее, тоньше, ярче (более “электрический”).
  - Outer: шире, мягче, медленнее (ореол/внешняя дуга).
- Текст располагается внутри портала по центру (можно с небольшим Y offset).
- Текст должен быть “лицом” к камере (billboard) при необходимости.
- Молния должна “бежать по контуру” (traveling bolt) — не просто мерцать. Реализуется через производные alpha (dFdx/dFdy) для получения касательной вдоль контура.
- Материал текста: additive blending, depthWrite=false, renderOrder выше портала.

3.3 Частицы
- Источник: область внутри портала (круг/радиус ~0.4).
- Движение: наружу по радиусу + небольшое смещение по Z.
- Визуал: мягкие glow-точки (point sprite).
- Материал: transparent, depthWrite=false, желательно additive или normal + alpha.

4) Производительность и качество
- В кадре не должно быть новых аллокаций/создания геометрии.
- Обновляются только uniforms.
- Параметры качества:
  - Portal plane: достаточно 2x2 плоскость.
  - Частицы: 600–1200 шт. (по умолчанию 800).
- Все материалы: depthWrite=false чтобы избежать артефактов с альфой.
- Порядок рендера:
  - portalMesh.renderOrder = 1
  - particles.renderOrder = 5
  - textOuter.renderOrder = 9
  - textInner.renderOrder = 10

5) API компонента
Должен быть класс/модуль Portal со следующими методами:
- constructor(): создает mesh портала, частиц, два слоя текста.
- resize(width, height): обновляет uResolution портала.
- update(timeSeconds, camera): обновляет uniforms (uTime) и опционально делает billboard текста (если включено).

6) Поставляемые артефакты (в этом архиве)
- src/PortalMaterial.js
- src/PortalParticles.js
- src/PortalText.js
- src/Portal.js
- src/index.example.js (пример интеграции)
- README.md (установка/использование)

7) Критерии приемки
- Портал рендерится шейдером без видео.
- Внутри портала виден текст NoHack, слегка движется.
- По контуру текста наблюдается бегущий разряд (движение по контуру заметно).
- Есть вылетающие частицы.
- Работает стабильно в браузере, без ошибок WebGL/шейдеров.
